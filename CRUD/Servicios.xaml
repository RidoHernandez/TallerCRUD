<Window x:Class="CRUD.Servicios"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CRUD"
        mc:Ignorable="d"
        Title="Servicios" Height="950" Width="1000">
    <Grid>
        <!-- PANEL IZQUIERDO -->
        <Border Style="{StaticResource LeftPanel}">
            <Grid>
                <StackPanel Margin="20">

                    <TextBlock Text="SERVICIOS"
                               Style="{StaticResource TitleText}"/>

                    <TextBlock Text="Gestión de servicios del taller"
                               Style="{StaticResource SubTitleText}"
                               Margin="0,5,0,20"/>

                    <Separator Margin="0,0,0,20" Opacity="0.4"/>

                    <!-- CAMPOS -->
                    <TextBlock Text="Nombre del Servicio" Style="{StaticResource LabelText}"/>
                    <TextBox x:Name="txtNombreServicio" Style="{StaticResource InputTextBox}"/>

                    <TextBlock Text="Descripción" Style="{StaticResource LabelText}"/>
                    <TextBox x:Name="txtDescripcion" 
                             Style="{StaticResource InputTextBox}" 
                             Height="80"
                             TextWrapping="Wrap"
                             AcceptsReturn="True"/>

                    <TextBlock Text="Costo Base ($)" Style="{StaticResource LabelText}"/>
                    <TextBox x:Name="txtCostoBase" Style="{StaticResource InputTextBox}"/>

                    <TextBlock Text="Tiempo Estimado (Horas)" Style="{StaticResource LabelText}"/>
                    <TextBox x:Name="txtTiempoEstimado" Style="{StaticResource InputTextBox}"/>

                    <TextBlock Text="Clave Servicio (Auto)" Style="{StaticResource LabelText}"/>
                    <TextBox x:Name="txtClaveServicio" 
                             Style="{StaticResource InputTextBox}" 
                             IsReadOnly="True"/>

                    <!-- BOTONES CRUD -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">

                        <Button x:Name="btnAgregar"
                                Content="Agregar"
                                Style="{StaticResource BtnPrimary}"
                                Click="btnAgregar_Click"/>

                        <Button x:Name="btnEditar"
                                Content="Editar"
                                Style="{StaticResource BtnWarning}"
                                Click="btnEditar_Click"/>

                        <Button x:Name="btnEliminar"
                                Content="Eliminar"
                                Style="{StaticResource BtnDanger}"
                                Click="btnEliminar_Click"/>

                    </StackPanel>

                    <Button x:Name="btnLimpiar"
                            Content="Limpiar Campos"
                            Style="{StaticResource BtnSecondary}"
                            Margin="0,10,0,0"
                            Click="btnLimpiar_Click"/>

                    <Button x:Name="btnRegresar"
                            Content="⬅ Regresar"
                            Style="{StaticResource BtnBack}"
                            Margin="0,20,0,0"
                            Click="btnRegresar_Click"/>

                </StackPanel>
            </Grid>
        </Border>

        <!-- PANEL DERECHO -->
        <Grid Margin="360,20,20,20">

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- ENCABEZADO -->
            <TextBlock Text="Listado de Servicios"
                       Style="{StaticResource HeaderText}"
                       Grid.Row="0"/>

            <!-- FILTROS -->
            <Border Grid.Row="1" Style="{StaticResource FilterPanel}">
                <Grid Margin="15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0">
                        <TextBlock Text="Buscar por Nombre" Style="{StaticResource LabelFilter}"/>
                        <TextBox x:Name="txtFiltroNombre" Style="{StaticResource FilterTextBox}"/>
                    </StackPanel>

                    <StackPanel Grid.Column="1" Margin="10,0,0,0">
                        <TextBlock Text="Buscar por Costo Base" Style="{StaticResource LabelFilter}"/>
                        <TextBox x:Name="txtFiltroCosto" Style="{StaticResource FilterTextBox}"/>
                    </StackPanel>

                    <Button Grid.Column="2"
                            Content="🔍 Buscar"
                            Style="{StaticResource BtnSearch}"
                            Margin="15,18,0,0"
                            Click="btnBuscar_Click"/>
                </Grid>
            </Border>

            <!-- DATAGRID -->
            <Border Grid.Row="2" Style="{StaticResource TableContainer}">
                <DataGrid x:Name="dgServicios"
                          AutoGenerateColumns="False"
                          IsReadOnly="True"
                          SelectionMode="Single"
                          SelectionChanged="dgServicios_SelectionChanged"
                          Style="{StaticResource CustomDataGrid}">

                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Clave" Binding="{Binding Clave_servicio}" Width="80"/>
                        <DataGridTextColumn Header="Servicio" Binding="{Binding Nombre_servicio}" Width="200"/>
                        <DataGridTextColumn Header="Descripción" Binding="{Binding Descripcion}" Width="280"/>
                        <DataGridTextColumn Header="Costo Base" Binding="{Binding Costo_base}" Width="110"/>
                        <DataGridTextColumn Header="Tiempo (hrs)" Binding="{Binding Tiempo_estimado}" Width="110"/>
                    </DataGrid.Columns>

                </DataGrid>
            </Border>

        </Grid>
    </Grid>
</Window>
